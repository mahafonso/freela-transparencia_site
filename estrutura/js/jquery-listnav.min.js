!function(e){e.fn.listnav=function(t){var l=e.extend({},e.fn.listnav.defaults,t),s=["_","a","b","c","d","e","f","g","h","i","j","k","l","m","n","o","p","q","r","s","t","u","v","w","x","y","z","-"],i=!1,n=null!==document.ontouchstart?"click":"touchend";return l.prefixes=e.map(l.prefixes,function(e){return e.toLowerCase()}),this.each(function(){function t(){if(h.append(f()),C=e(".ln-letters",h).slice(0,1),l.showCounts&&(m=e(".ln-letter-count",h).slice(0,1)),o(),c(),v(),l.flagDisabled&&d(),l.includeAll||e(".all",C).remove(),l.includeNums||e("._",C).remove(),l.includeOther||e(".-",C).remove(),l.removeDisabled&&e(".ln-disabled",C).remove(),e(":last",C).addClass("ln-last"),e.cookie&&null!==l.cookieName){var t=e.cookie(l.cookieName);null!==t&&"undefined"!=typeof t&&(l.initLetter=t)}if(""!==l.initLetter)i=!0,e("."+l.initLetter.toLowerCase(),C).slice(0,1).trigger(n);else if(l.includeAll)e(".all",C).addClass("ln-selected");else for(var a=l.includeNums?0:1;a<s.length;a++)if(k[s[a]]>0){i=!0,e("."+s[a],C).slice(0,1).trigger(n);break}}function a(){var t=m.outerHeight();m.css({top:e("a:first",h).slice(0,1).position().top-t})}function o(){var t,s,i="",n=l.prefixes.length>0,a=l.filterSelector.length>0;e(x).children().each(function(){if(s=e(this),t=a?e.trim(s.find(l.filterSelector).text()).toLowerCase():e.trim(s.text()).toLowerCase(),""!==t){if(n){var o=e.map(l.prefixes,function(e){return e.indexOf(" ")<=0?e+" ":e}),d=e.grep(o,function(e){return 0===t.indexOf(e)});if(d.length>0){var c=t.toLowerCase().split(d[0])[1];return i=null!=c?e.trim(c).charAt(0):t.charAt(0),void r(i,s,!0)}}i=t.charAt(0),r(i,s)}})}function r(e,t,l){/\W/.test(e)&&(e="-"),isNaN(e)||(e="_"),t.addClass("ln-"+e),void 0===k[e]&&(k[e]=0),k[e]++,l||H++}function d(){for(var t=0;t<s.length;t++)void 0===k[s[t]]&&e("."+s[t],C).addClass("ln-disabled")}function c(){x.append('<li class="ln-no-match listNavHide">'+l.noMatchText+"</li>")}function u(t){return e(t).hasClass("all")?S=l.dontCount?H-x.find(l.dontCount).length:H:(t=".ln-"+e(t).attr("class").split(" ")[0],g=l.dontCount?x.find(t).not(l.dontCount).length:x.find(t).length,void 0!==g?g:0)}function v(){l.showCounts&&(h.mouseover(function(){a()}),e(".ln-letters a",h).mouseover(function(){N=e(this).position().left,p=e(this).outerWidth()+"px",g=u(this),m.css({left:N,width:p}).text(g).addClass("letterCountShow").removeClass("listNavHide")}).mouseout(function(){m.addClass("listNavHide").removeClass("letterCountShow")})),e("a",C).bind(n,function(t){t.preventDefault();var s=e(this),n=s.attr("class").split(" ")[0],a=x.children(".ln-no-match");if(L!==n){if(e("a.ln-selected",C).removeClass("ln-selected"),"all"===n)x.children().addClass("listNavShow").removeClass("listNavHide"),a.addClass("listNavHide").removeClass("listNavShow"),b=!0;else{b?(x.children().addClass("listNavHide").removeClass("listNavShow"),b=!1):""!==L&&x.children(".ln-"+L).addClass("listNavHide").removeClass("listNavShow");var o=u(this);o>0?(x.children(".ln-"+n).addClass("listNavShow").removeClass("listNavHide"),a.addClass("listNavHide").removeClass("listNavShow")):a.addClass("listNavShow").removeClass("listNavHide")}L=n,e.cookie&&null!==l.cookieName&&e.cookie(l.cookieName,n,{expires:999}),s.addClass("ln-selected"),s.blur(),i||null===l.onClick?i=!1:l.onClick(n)}})}function f(){for(var e=[],t=1;t<s.length;t++)0===e.length&&e.push('<a class="all" href="#">'+l.allText+'</a><a class="_" href="#">0-9</a>'),e.push('<a class="'+s[t]+'" href="#">'+("-"===s[t]?"...":s[t].toUpperCase())+"</a>");return'<div class="ln-letters">'+e.join("")+"</div>"+(l.showCounts?'<div class="ln-letter-count listNavHide">0</div>':"")}var h,C,m,N,p,g,w=this.id,x=e(this),k={},H=0,S=0,b=!0,L="";e("#"+w+"-nav").length||e('<div id="'+w+'-nav" class="listNav"/>').insertBefore(x),h=e("#"+w+"-nav"),t()})},e.fn.listnav.defaults={initLetter:"",includeAll:!0,allText:"Todos",includeOther:!1,includeNums:!1,flagDisabled:!0,removeDisabled:!1,noMatchText:"Nenhum associado cadastrado para a letra escolhida.",showCounts:!1,dontCount:"",cookieName:null,onClick:null,prefixes:[],filterSelector:""}}(jQuery);